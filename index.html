<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Excalibur — железо только для избранных</title>
<meta name="description" content="Excalibur — магазин компьютерных комплектующих в игровом неоновом стиле. Железо только для избранных.">

<style>
  :root{
    --bg:#090b13; --panel:#11152a; --panel2:#0d1124; --text:#e8ebff; --muted:#aab1db;
    --acc1:#6b9bff; --acc2:#9f6bff; --ok:#44e1a6; --hot:#ff5c7c;
    --glass:rgba(255,255,255,.06); --border:rgba(255,255,255,.14);
    --r:16px; --shadow:0 10px 30px rgba(0,0,0,.45), inset 0 0 0 1px var(--border);
  }
  *{box-sizing:border-box}
  html{scroll-behavior:smooth}
  body{
    margin:0; color:var(--text); background:var(--bg);
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; line-height:1.5;
    overflow-x:hidden;
  }
  img{max-width:100%; display:block}
  a{color:inherit; text-decoration:none}
  .container{max-width:1200px; margin:0 auto; padding:0 16px}

  /* ==== Фон (игровой) + зерно + параллакс ==== */
  .bg{
    position:fixed; inset:0; z-index:-3;
    background:
      radial-gradient(1200px 600px at 80% -20%, rgba(22,32,74,.45), transparent 60%),
      radial-gradient(900px 500px at -10% 30%, rgba(42,20,85,.40), transparent 60%),
      linear-gradient(180deg, rgba(12,14,24,.65) 0 40%, rgba(9,11,19,.95) 100%),
      radial-gradient(900px 900px at 20% -10%, #1b2b6a55, transparent 60%),
      radial-gradient(900px 900px at 120% 120%, #5b1b8a44, transparent 60%),
      #0a0c15;
    transform:translateZ(0);
  }
  .grain{position:fixed; inset:0; z-index:-2; background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNgYAAAAAMAASsJTYQAAAAASUVORK5CYII="); opacity:.06; mix-blend-mode:soft-light}

  /* ==== Header ==== */
  header{
    position:sticky; top:0; z-index:50; backdrop-filter: blur(10px);
    background:linear-gradient(180deg, rgba(9,11,19,.78), rgba(9,11,19,.48));
    border-bottom:1px solid var(--border);
    animation: slideDown .6s ease-out;
  }
  @keyframes slideDown { from{transform:translateY(-100%);opacity:0} to{transform:translateY(0);opacity:1} }
  .nav{height:68px; display:flex; align-items:center; justify-content:space-between; gap:12px}
  .brand{display:flex; align-items:center; gap:12px}
  .logo-badge{
    width:38px; height:38px; border-radius:10px;
    background:conic-gradient(from 210deg,#6b9bff 0 25%,#9f6bff 25% 50%,#44e1a6 50% 75%,#ff5c7c 75% 100%);
    box-shadow:0 0 24px #6b9bff55, inset 0 0 18px #0006; display:grid; place-items:center;
    animation: pulse 2s infinite;
  }
  @keyframes pulse {0%{box-shadow:0 0 24px #6b9bff55, inset 0 0 18px #0006}50%{box-shadow:0 0 30px #6b9bff88, inset 0 0 18px #0006}100%{box-shadow:0 0 24px #6b9bff55, inset 0 0 18px #0006}}
  .brand-title{font-family:Orbitron, system-ui, sans-serif; font-weight:800; letter-spacing:.4px; font-size:20px;
    background:linear-gradient(90deg,#cfe0ff,#e9d9ff 50%,#b0fff3); -webkit-background-clip:text; color:transparent}
  .tag{font-size:12px; color:var(--muted); margin-top:-2px}
  .links{display:flex; gap:16px}
  .links a{padding:8px 10px; border-radius:10px; color:#dfe4ff; transition:.3s}
  .links a:hover{background:var(--glass); transform: translateY(-2px)}
  .cta{display:inline-grid; place-items:center; padding:10px 14px; border-radius:12px; font-weight:800;
    background:linear-gradient(90deg,#3a64ff,#a45bff); box-shadow:0 10px 24px #6b9bff44; transition:.3s}
  .cta:hover{transform: translateY(-3px); box-shadow: 0 12px 28px #6b9bff66}
  .hamb{display:none; background:none; border:0; color:var(--text)}
  @media (max-width:900px){ .links{display:none} .hamb{display:block} }
  .mnav{display:none; border-bottom:1px solid var(--border); animation: fadeIn .3s ease-out}
  .mnav.open{display:block}
  .mnav a{display:block; padding:12px 8px; color:#dfe4ff; transition:.2s}
  .mnav a:hover{background:var(--glass); padding-left: 16px}
  .mnav .cta{display:inline-block; margin:8px}

  /* ==== Hero ==== */
  .hero{padding:56px 0 28px}
  .grid-hero{display:grid; grid-template-columns:1.2fr .8fr; gap:24px; align-items:center}
  @media (max-width:900px){ .grid-hero{grid-template-columns:1fr} .hero{padding-top:28px} }
  .h1{font-family:Orbitron, system-ui, sans-serif; font-size:clamp(28px,5vw,54px); line-height:1.06; margin:10px 0 8px; text-shadow:0 0 20px #6b9bff33; animation: fadeInUp .8s ease-out}
  @keyframes fadeInUp { from{opacity:0;transform:translateY(20px)} to{opacity:1;transform:translateY(0)} }
  .sub{color:#c8d0fb; max-width:64ch; animation: fadeInUp .8s ease-out .2s both}
  .pill{display:inline-block; padding:10px 12px; border-radius:999px; background:var(--glass); border:1px solid var(--border); font-weight:600; margin-right:8px; animation: fadeInUp .8s ease-out .1s both}
  .panel{border:1px solid var(--border); background:linear-gradient(180deg,var(--panel),var(--panel2)); border-radius:var(--r); box-shadow:var(--shadow); padding:16px; animation: fadeInUp .8s ease-out .3s both}

  /* ==== Sections ==== */
  .section{padding:42px 0}
  .section h2{font-family:Orbitron, system-ui, sans-serif; font-size:clamp(22px,3.2vw,34px); margin:0 0 14px}
  .section p.sub{color:var(--muted); margin:0 0 16px}
  .two{display:grid; grid-template-columns:1fr 1fr; gap:16px}
  @media (max-width:900px){ .two{grid-template-columns:1fr} }

  /* ==== Tabs ==== */
  .tabbar{display:flex; gap:10px; overflow:auto; padding:8px 0 4px; scrollbar-width:none}
  .tabbar::-webkit-scrollbar{display:none}
  .tabs button{
    display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:12px; cursor:pointer;
    border:1px solid var(--border); background:linear-gradient(180deg,#141733,#0f1122); color:#e9ecff; font-weight:800; transition:.3s
  }
  .tabs button:hover{transform: translateY(-2px); box-shadow: 0 5px 15px rgba(107,155,255,.3)}
  .tabs button.active{background:linear-gradient(90deg,#3a64ff,#a45bff); box-shadow:0 8px 20px #6b9bff55}
  .tab-ico{width:22px; height:22px; object-fit:contain; filter:drop-shadow(0 0 6px rgba(107,155,255,.25))}

  /* ==== Cards ==== */
  .grid{display:grid; grid-template-columns:repeat(4,minmax(0,1fr)); gap:16px}
  @media (max-width:1100px){ .grid{grid-template-columns:repeat(3,1fr)} }
  @media (max-width:800px){ .grid{grid-template-columns:repeat(2,1fr)} }
  @media (max-width:520px){ .grid{grid-template-columns:1fr} }
  .card{border-radius:14px; background:linear-gradient(180deg,#13163a,#0d1024); border:1px solid var(--border); box-shadow:var(--shadow); overflow:hidden; transform:translateZ(0); transition:.3s; opacity:0; animation: fadeInUp .5s ease-out forwards}
  .card:hover{transform: translateY(-8px); box-shadow: 0 15px 35px rgba(0,0,0,.6), inset 0 0 0 1px var(--border)}
  .thumb{position:relative; height:180px; background:#0d1126; display:grid; place-items:center; overflow:hidden}
  .thumb img{width:100%; height:100%; object-fit:contain; transform:translateZ(0); image-rendering:-webkit-optimize-contrast; transition:transform .35s ease, filter .35s ease}
  .card:hover .thumb img{transform:scale(1.05); filter:brightness(1.1)}
  .skeleton{position:absolute; inset:0; background:linear-gradient(90deg,#12162e 0,#1a2044 50%,#12162e 100%); background-size:200% 100%; animation:shimmer 1.8s infinite}
  @keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}
  .card-body{padding:12px}
  .row{display:flex; align-items:center; justify-content:space-between; gap:8px}
  .flag{font-size:11px; color:#9ad8ff; background:rgba(106,155,255,.14); padding:6px 8px; border-radius:999px; border:1px solid #6b9bff55}
  .title{margin:0 0 6px; font-weight:800}
  .spec{color:#b8c0ea; font-size:13px; min-height:38px}
  .price{font-weight:800; font-size:18px; margin-top:6px}
  .btn{border:1px solid var(--border); background:linear-gradient(180deg,#171a38,#0e1124); color:#eef; padding:9px 12px; border-radius:10px; font-weight:700; cursor:pointer; transition:.2s}
  .btn.primary{background:linear-gradient(90deg,#3a64ff,#a45bff); box-shadow:0 10px 22px #6b9bff55}
  .btn:hover{transform:translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,.3)}
  .btn:active{transform:translateY(0)}

  /* ==== Footer / misc ==== */
  .hr{height:1px; background:var(--border); margin:22px 0}
  footer{padding:20px 0 60px; color:#a6aed8}
  .scrolltop{position:fixed; right:16px; bottom:16px; z-index:60; opacity:0; pointer-events:none; transition:.2s}
  .scrolltop.show{opacity:1; pointer-events:auto}
  .scrolltop:hover{transform:scale(1.1)}
  @media (prefers-reduced-motion: reduce){ *{animation:none !important; transition:none !important; scroll-behavior:auto !important} }
  @keyframes fadeIn{from{opacity:0}to{opacity:1}}
  .card:nth-child(1){animation-delay:.08s}.card:nth-child(2){animation-delay:.16s}.card:nth-child(3){animation-delay:.24s}.card:nth-child(4){animation-delay:.32s}
  .svg-icon{width:22px;height:22px;fill:currentColor}
</style>
</head>
<body>
  <div class="bg" aria-hidden="true"></div>
  <div class="grain" aria-hidden="true"></div>

  <!-- ===== Header ===== -->
  <header>
    <div class="container nav">
      <div class="brand">
        <div class="logo-badge" aria-hidden="true">
          <!-- меч -->
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M13 3l8 8-2 2-3-3-7.5 7.5a4 4 0 01-3 1.5H4v-1.5a4 4 0 011.5-3L13 8l-3-3 2-2z" stroke="#eaf1ff" stroke-width="1.6"/>
          </svg>
        </div>
        <div>
          <div class="brand-title">Excalibur</div>
          <div class="tag">железо только для избранных</div>
        </div>
      </div>

      <nav class="links" aria-label="Навигация">
        <a href="#hero">Главная</a>
        <a href="#catalog">Каталог</a>
        <a href="#about">О нас</a>
        <a href="#contact">Контакты</a>
        <a class="cta" href="#catalog">Каталог</a>
      </nav>
      <button class="hamb" id="hamb" aria-label="Меню">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none">
          <path d="M4 6h16M4 12h16M4 18h16" stroke="#e7e8ff" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
    <div id="mnav" class="container mnav">
      <a href="#hero">Главная</a>
      <a href="#catalog">Каталог</a>
      <a href="#about">О нас</a>
      <a href="#contact">Контакты</a>
      <a class="cta" href="#catalog">Перейти в каталог</a>
    </div>
  </header>

  <!-- ===== Hero ===== -->
  <section class="hero" id="hero">
    <div class="container grid-hero">
      <div>
        <span class="pill">Сборки • Апгрейд • Сервис</span>
        <h1 class="h1">Игровое железо с характером. <br>Картинки — реальные, FPS — честный.</h1>
        <p class="sub">Живые изображения всех комплектующих, иконки в разделах, плавные анимации и адаптация под телефон и ПК. Выбирай разделы — собирай билд.</p>
        <div style="margin-top:14px; display:flex; gap:12px; flex-wrap:wrap">
          <a class="cta" href="#catalog">Открыть каталог</a>
          <a class="btn" href="#about">Почему мы?</a>
        </div>
      </div>
      <div class="panel">
        <h3 style="margin:6px 0 8px">Витрина недели</h3>
        <div class="two" style="align-items:center">
          <div class="thumb" style="height:200px">
            <span class="skeleton" aria-hidden="true"></span>
            <!-- Подставим data URI с подписью через JS -->
            <img id="heroImg" alt="GeForce RTX 4070 Ti Super" loading="eager" decoding="async">
          </div>
          <div>
            <ul style="margin:0; padding-left:18px; color:#c9d1ff">
              <li>CPU: Intel Core i5-14600KF / Ryzen 7 7800X3D</li>
              <li>GPU: GeForce RTX 4070 Ti Super</li>
              <li>RAM: 32 ГБ DDR5-6000</li>
              <li>SSD: NVMe Gen4 1–2 ТБ</li>
            </ul>
            <div style="margin-top:10px; display:flex; gap:10px">
              <button class="btn primary" onclick="toast('Добавлено в корзину')">В корзину</button>
              <a class="btn" href="#catalog">К выбору</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== Catalog ===== -->
  <section id="catalog" class="section">
    <div class="container">
      <h2>Каталог</h2>
      <p class="sub">Вкладки с иконками. На карточках — изображения (data URI) с названиями комплектующих.</p>

      <div class="tabbar">
        <div class="tabs" id="tabs" role="tablist" aria-label="Разделы каталога">
          <button class="active" role="tab" data-tab="gpu">
            <svg class="svg-icon" viewBox="0 0 24 24">
              <path d="M2 9h20v6H2z" />
              <path d="M4 7h16v2H4zm0 8h16v2H4z" />
            </svg>
            Видеокарты
          </button>
          <button role="tab" data-tab="cpu">
            <svg class="svg-icon" viewBox="0 0 24 24">
              <rect x="4" y="4" width="16" height="16" rx="2"/>
              <rect x="8" y="8" width="8" height="8" rx="1" fill="#090b13"/>
            </svg>
            Процессоры
          </button>
          <button role="tab" data-tab="mobo">
            <svg class="svg-icon" viewBox="0 0 24 24">
              <rect x="2" y="4" width="20" height="16" rx="2"/>
              <rect x="6" y="8" width="4" height="4" rx="1" fill="#090b13"/>
              <rect x="14" y="8" width="4" height="4" rx="1" fill="#090b13"/>
              <rect x="6" y="14" width="4" height="4" rx="1" fill="#090b13"/>
              <rect x="14" y="14" width="4" height="4" rx="1" fill="#090b13"/>
            </svg>
            Материнские платы
          </button>
          <button role="tab" data-tab="ram">
            <svg class="svg-icon" viewBox="0 0 24 24">
              <rect x="4" y="6" width="16" height="12" rx="1"/>
              <rect x="6" y="8" width="3" height="8" fill="#090b13"/>
              <rect x="10.5" y="8" width="3" height="8" fill="#090b13"/>
              <rect x="15" y="8" width="3" height="8" fill="#090b13"/>
            </svg>
            Оперативная память
          </button>
          <button role="tab" data-tab="storage">
            <svg class="svg-icon" viewBox="0 0 24 24">
              <rect x="4" y="6" width="16" height="12" rx="2"/>
              <rect x="6" y="8" width="12" height="8" rx="1" fill="#090b13"/>
            </svg>
            SSD/HDD
          </button>
          <button role="tab" data-tab="psu">
            <svg class="svg-icon" viewBox="0 0 24 24">
              <rect x="4" y="6" width="16" height="12" rx="2"/>
              <path d="M8 10h8v4H8z" fill="#090b13"/>
            </svg>
            Блоки питания
          </button>
          <button role="tab" data-tab="cooling">
            <svg class="svg-icon" viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="8"/>
              <circle cx="12" cy="12" r="4" fill="#090b13"/>
            </svg>
            Охлаждение
          </button>
          <button role="tab" data-tab="cases">
            <svg class="svg-icon" viewBox="0 0 24 24">
              <rect x="4" y="6" width="16" height="14" rx="2"/>
              <rect x="6" y="8" width="12" height="10" rx="1" fill="#090b13"/>
            </svg>
            Корпуса
          </button>
          <button role="tab" data-tab="periph">
            <svg class="svg-icon" viewBox="0 0 24 24">
              <rect x="4" y="8" width="16" height="8" rx="2"/>
              <rect x="6" y="10" width="12" height="4" rx="1" fill="#090b13"/>
            </svg>
            Периферия
          </button>
        </div>
      </div>

      <div id="grid" class="grid" aria-live="polite"></div>
    </div>
  </section>

  <!-- ===== About & Contact ===== -->
  <section id="about" class="section">
    <div class="container two">
      <div class="panel">
        <h2 style="font-size:24px">Почему Excalibur?</h2>
        <p class="sub">Мы ставим реальные изображения там, где другие рисуют пиктограммы.</p>
        <ul style="margin:0; padding-left:18px; color:#c9d1ff">
          <li>Подбор без «бутылочных горлышек».</li>
          <li>BIOS, XMP/EXPO, кривые вентиляторов — настроим.</li>
          <li>Честные рекомендации, дружим с бенчмарками.</li>
        </ul>
      </div>
      <div id="contact" class="panel">
        <h2 style="font-size:24px">Связаться</h2>
        <form onsubmit="event.preventDefault(); toast('Заявка отправлена. Свяжемся!'); this.reset();">
          <div class="two" style="gap:10px">
            <input required placeholder="Ваше имя" style="padding:12px;border-radius:10px;border:1px solid var(--border);background:#0c0f22;color:var(--text)">
            <input required placeholder="Телефон/Telegram" style="padding:12px;border-radius:10px;border:1px solid var(--border);background:#0c0f22;color:var(--text)">
          </div>
          <textarea rows="4" placeholder="Опишите сборку/задачи" style="margin-top:10px;width:100%;padding:12px;border-radius:10px;border:1px solid var(--border);background:#0c0f22;color:var(--text)"></textarea>
          <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap">
            <button class="btn primary" type="submit">Отправить</button>
            <a class="btn" href="#catalog">Каталог</a>
          </div>
        </form>
      </div>
    </div>
  </section>

  <div class="container"><div class="hr"></div></div>
  <footer class="container">
    <div style="display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap">
      <div>© <span id="year"></span> Excalibur — железо только для избранных</div>
      <a href="#hero" class="btn">Наверх ↑</a>
    </div>
  </footer>

  <!-- Scroll to top -->
  <button id="up" class="btn primary scrolltop" aria-label="Наверх">↑</button>

  <!-- Toast -->
  <div id="toast" style="position:fixed;left:50%;bottom:20px;transform:translateX(-50%);z-index:80;background:rgba(20,24,48,.92);border:1px solid var(--border);color:#dfe4ff;padding:10px 14px;border-radius:12px;display:none"></div>

<script>
  // ========= Генератор offline-изображений (SVG -> data URI) =========
  function svgDataURI({w=400,h=300,bg='#1a1f3a',fg='#6b9bff',text='IMAGE'}={}){
    const esc = s => s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
    const svg =
`<svg xmlns='http://www.w3.org/2000/svg' width='${w}' height='${h}' viewBox='0 0 ${w} ${h}'>
  <defs>
    <linearGradient id='g' x1='0' y1='0' x2='1' y2='1'>
      <stop offset='0' stop-color='${bg}'/>
      <stop offset='1' stop-color='#0e132e'/>
    </linearGradient>
    <filter id='glow'>
      <feGaussianBlur stdDeviation='8' result='b'/>
      <feMerge><feMergeNode in='b'/><feMergeNode in='SourceGraphic'/></feMerge>
    </filter>
  </defs>
  <rect width='100%' height='100%' fill='url(#g)'/>
  <rect x='10' y='10' width='${w-20}' height='${h-20}' rx='12' fill='none' stroke='${fg}' stroke-width='2' opacity='.5'/>
  <g filter='url(#glow)'>
    <text x='50%' y='52%' fill='${fg}' font-family='Inter,Segoe UI,Arial' font-size='${Math.max(18,Math.min(w,h)/10)}' text-anchor='middle' font-weight='700'>${esc(text)}</text>
  </g>
</svg>`;
    return 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(svg);
  }

  // ========= ДАННЫЕ =========
  const PRODUCTS = {
    gpu: [
      {title:'GeForce RTX 4070 Ti Super', spec:'16 ГБ GDDR6X, DLSS 3', price:'от 89 990 ₽', color:'#6b9bff'},
      {title:'GeForce RTX 4060 Ti 16 ГБ', spec:'DLSS 3, энергоэффективность', price:'от 49 990 ₽', color:'#67b0ff'},
      {title:'Radeon RX 7800 XT', spec:'16 ГБ GDDR6, FSR 3', price:'от 62 990 ₽', color:'#9f6bff'},
      {title:'Intel Arc A770 16 ГБ', spec:'XeSS, AV1', price:'от 34 990 ₽', color:'#44e1a6'},
    ],
    cpu: [
      {title:'Intel Core i5-14600KF', spec:'6P+8E, 5.3 ГГц', price:'от 32 990 ₽', color:'#6b9bff'},
      {title:'Intel Core i7-14700K', spec:'8P+12E, 5.6 ГГц', price:'от 49 990 ₽', color:'#6b9bff'},
      {title:'AMD Ryzen 7 7800X3D', spec:'3D V-Cache, топ в играх', price:'от 46 990 ₽', color:'#9f6bff'},
      {title:'AMD Ryzen 5 7600', spec:'AM5, DDR5', price:'от 21 990 ₽', color:'#9f6bff'},
    ],
    mobo: [
      {title:'B760 (LGA1700)', spec:'PCIe 4.0, 2×M.2', price:'от 14 990 ₽', color:'#6b9bff'},
      {title:'Z790 (LGA1700)', spec:'PCIe 5.0, разгон', price:'от 28 990 ₽', color:'#6b9bff'},
      {title:'B650 (AM5)', spec:'DDR5, NVMe Gen4', price:'от 17 990 ₽', color:'#9f6bff'},
      {title:'X670E (AM5)', spec:'PCIe 5.0', price:'от 39 990 ₽', color:'#9f6bff'},
    ],
    ram: [
      {title:'32 ГБ DDR5-6000', spec:'CL30–36, дуал-ч', price:'от 11 990 ₽', color:'#44e1a6'},
      {title:'64 ГБ DDR5-6000', spec:'Тяжёлые проекты', price:'от 22 990 ₽', color:'#44e1a6'},
      {title:'32 ГБ DDR4-3600', spec:'LGA1200/AM4', price:'от 7 990 ₽', color:'#ff5c7c'},
      {title:'16 ГБ DDR4-3200', spec:'Бюджет', price:'от 3 990 ₽', color:'#ff5c7c'},
    ],
    storage: [
      {title:'NVMe SSD Gen4 1 ТБ', spec:'до 7000 МБ/с', price:'от 6 490 ₽', color:'#44e1a6'},
      {title:'NVMe SSD Gen4 2 ТБ', spec:'Игры + проекты', price:'от 10 990 ₽', color:'#44e1a6'},
      {title:'SATA SSD 1 ТБ', spec:'Надёжно', price:'от 4 990 ₽', color:'#ff5c7c'},
      {title:'HDD 4 ТБ', spec:'Архив', price:'от 6 990 ₽', color:'#ff5c7c'},
    ],
    psu: [
      {title:'750W Gold (modular)', spec:'Тихий, запас', price:'от 7 990 ₽', color:'#6b9bff'},
      {title:'850W Gold', spec:'Для 4070 Ti/4080', price:'от 9 990 ₽', color:'#6b9bff'},
      {title:'1000W Platinum', spec:'Энтузиаст', price:'от 16 990 ₽', color:'#44e1a6'},
      {title:'650W Bronze', spec:'Mid-range', price:'от 4 990 ₽', color:'#ff5c7c'},
    ],
    cooling: [
      {title:'AIO 360 мм', spec:'Тихо и холодно', price:'от 12 990 ₽', color:'#44e1a6'},
      {title:'AIO 240 мм', spec:'Компакт', price:'от 8 990 ₽', color:'#44e1a6'},
      {title:'Башня 6 трубок', spec:'Отличный воздух', price:'от 5 990 ₽', color:'#6b9bff'},
      {title:'Вентиляторы 120 (3шт)', spec:'PWM, ARGB', price:'от 2 990 ₽', color:'#9f6bff'},
    ],
    cases: [
      {title:'Mid-Tower Airflow', spec:'Сетка, стекло', price:'от 6 990 ₽', color:'#6b9bff'},
      {title:'Compact mATX', spec:'Минимализм', price:'от 5 890 ₽', color:'#9f6bff'},
      {title:'Premium ATX', spec:'Алюминий', price:'от 12 990 ₽', color:'#44e1a6'},
      {title:'ITX Cube', spec:'Мал да удал', price:'от 8 990 ₽', color:'#ff5c7c'},
    ],
    periph: [
      {title:'Клава механика', spec:'Hot-swap, PBT', price:'от 5 990 ₽', color:'#6b9bff'},
      {title:'Мышь eSports', spec:'<60 г, 26K DPI', price:'от 3 990 ₽', color:'#9f6bff'},
      {title:'Гарнитура', spec:'Позиционка', price:'от 4 990 ₽', color:'#44e1a6'},
      {title:'Монитор 27" 165 Гц', spec:'IPS/VA, 1440p', price:'от 16 990 ₽', color:'#ff5c7c'},
    ],
  };

  // ========= Рендер карточек =========
  const grid = document.getElementById('grid');
  function cardHTML(p, idx){
    const img = svgDataURI({w:400,h:300,bg:'#1a1f3a',fg:p.color,text:p.title});
    return `
      <article class="card">
        <div class="thumb">
          <span class="skeleton" aria-hidden="true"></span>
          <img src="${img}" alt="${p.title}" loading="lazy" decoding="async"
            onload="this.previousElementSibling?.remove()" onerror="
              this.closest('.thumb').style.background='#121735';
              this.remove();
              this.closest('.thumb').insertAdjacentHTML('beforeend','<span style=&quot;color:#8fa3ff;font:600 12px/1.2 Inter,system-ui;text-align:center;padding:8px&quot;>Нет изображения</span>')
            ">
        </div>
        <div class="card-body">
          <div class="row">
            <h3 class="title">${p.title}</h3>
            <span class="flag">${idx===0?'Хит':'Новинка'}</span>
          </div>
          <div class="spec">${p.spec}</div>
          <div class="row" style="margin-top:8px">
            <div class="price">${p.price}</div>
            <div style="display:flex;gap:8px">
              <button class="btn" onclick="toast('Добавлено в сравнение')">Сравнить</button>
              <button class="btn primary" onclick="toast('Добавлено в корзину')">В корзину</button>
            </div>
          </div>
        </div>
      </article>`;
  }
  function render(kind='gpu'){
    grid.innerHTML = (PRODUCTS[kind]||[]).map(cardHTML).join('');
    grid.querySelectorAll('.card').forEach((c,i)=> c.style.animationDelay = `${i*0.08}s`);
  }

  // ========= Вкладки =========
  const tabs = document.getElementById('tabs');
  tabs.addEventListener('click', (e)=>{
    const btn = e.target.closest('button[data-tab]');
    if(!btn) return;
    document.querySelectorAll('#tabs button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    render(btn.dataset.tab);
  });

  // ========= Мобильное меню =========
  const hamb = document.getElementById('hamb');
  const mnav = document.getElementById('mnav');
  hamb.addEventListener('click', ()=> mnav.classList.toggle('open'));
  mnav.addEventListener('click', e=>{ if(e.target.tagName==='A') mnav.classList.remove('open') });

  // ========= ScrollTop =========
  const up = document.getElementById('up');
  window.addEventListener('scroll', ()=>{ if(scrollY>300) up.classList.add('show'); else up.classList.remove('show') });
  up.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));

  // ========= Год =========
  document.getElementById('year').textContent = new Date().getFullYear();

  // ========= Параллакс фона =========
  const bg = document.querySelector('.bg');
  window.addEventListener('mousemove', (e)=>{
    const x = (e.clientX / innerWidth - .5) * 8;
    const y = (e.clientY / innerHeight - .5) * 8;
    bg.style.transform = `translate(${x}px, ${y}px) scale(1.02)`;
  }, {passive:true});

  // ========= Toast =========
  const toastEl = document.getElementById('toast');
  function toast(msg){
    toastEl.textContent = msg;
    toastEl.style.display='inline-block';
    clearTimeout(toastEl._t);
    toastEl._t=setTimeout(()=>toastEl.style.display='none',1600);
  }
  window.toast = toast;

  // ========= Hero изображение (data URI) =========
  document.getElementById('heroImg').src = svgDataURI({w:420,h:220,bg:'#18224a',fg:'#6b9bff',text:'RTX 4070 Ti Super'});

  // ========= Старт =========
  render('gpu');
</script>
</body>
</html>
